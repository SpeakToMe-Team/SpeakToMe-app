<% layout('../layout') %>

<div id="dashboard" class="dashboard-page">
    <nav class="container-fluid">
        <a href="/">
            <div class="logo animated bounceInLeft">
                <img src="/images/microphone.png" alt="logo">
                <p>{{ title }}</p>
            </div>
        </a>
        <div class="perso animated bounceInRight">        
            <div class="settings">
                <a href="#" data-toggle="modal" data-target="#myModal">
                    <i class="fa fa-cogs fa-spin"></i>
                </a>
            </div>
            <div class="myAccount">
                <a href="/profile">
                    <i class="fa fa-user"></i>
                </a>
            </div>
        </div>
    </nav>
    <section class="container">
        <div class="row">
            <div class="col-sm-12 col-md-8 col-lg-9">
                <article class="search col-sm-12 animated zoomInUp">
                    <i class="fa fa-microphone" aria-hidden="true"></i>
                    <input v-bind:value="phrase" type="text" name="request" placeholder="Dictez ou Ã©crivez votre recherche ...">
                </article>

                <article class="result col-sm-12 animated zoomInUp">
                    <h2 class="title">Resultats</h2>
                </article>

                <article class="recommandation col-sm-12 animated zoomInUp">
                    <h2 class="title">Suggestions</h2>
                </article>
            </div>
            
            <div class="col-sm-12 col-md-4 col-lg-3">
                <article class="help col-md-12 animated zoomInUp">
                    <h2 class="title">Aide</h2>
                </article>
            </div>            
        </div>
    </section>

    <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel">
        <div class="modal-dialog" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="myModalLabel">Modal title</h4>
                </div>
                <div class="modal-body">
                    ...
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-default" data-dismiss="modal">Fermer</button>
                    <button type="button" class="btn btn-primary">Valider</button>
                </div>
            </div>
        </div>
    </div>
    

</div>


<script>
    var dashboard = new Vue({
        el: "#dashboard",
        data: {
            title: "Dashboard",
            phrase: ''
        },
        methods: {
        }
    });
</script>

<script>
    if (annyang) {        
        var commands = {
            'ouvrir panneau': function() {
                $('#myModal').modal('show');
            },
            'fermer panneau': function() {
                $('#myModal').modal('hide');
            },
            'voir profil': function() {
                window.location.href = "/profile";
            }
        };        
        annyang.addCommands(commands);
        annyang.setLanguage('fr-FR');
        annyang.addCallback('result', function(phrases) {
            console.log("I think the user said: ", phrases[0]);
            dashboard.phrase = phrases[0];
            console.log("But then again, it could be any of the following: ", phrases);
        });        
        annyang.start();
    }
</script>
